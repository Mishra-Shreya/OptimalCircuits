<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Optimal Circuits!</title>
  <link rel="icon" href="Logo2.png">

  <link href="styles/stylehome.css" rel="stylesheet">
  <link href="styles/bootstarp.css" rel="stylesheet">

  <!-- Bootstrap core CSS -->
  <!-- <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet"
    type="text/css">

  <!-- Custom styles for this template -->
  <!-- <link href="/static/landing-page.min.css" rel="stylesheet">
  <link href="/static/sb-admin-2.min.css" rel="stylesheet"> -->


  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

  <!-- Latest compiled and minified CSS -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    body,
    html {
      height: 100%;
      margin: 0;
    }

    .bg {
      /* The image used */
      /* background-image: url("templates/bg-horizontal.gif"); */
      background-image: radial-gradient(rgb(9, 51, 167), rgb(0, 10, 99), rgb(0, 0, 0));

      /* Full height */
      width: 100%;
      height: 100%;

      /* Center and scale the image nicely */
      background-position: right;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .card-img-top {
      width: 100%;
      height: 25vw;
      object-fit: contain;
    }
  </style>

</head>

<body class="bg">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-light sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" style="color: black"><img src="Logo1.png"><b> Optimal Circuits!</b></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="about.html" style="color: black">About Us</a>
          </li>

        </ul>
      </div>
    </div>

  </nav>

  <div class="bg" style="width: 100%;">
    <div class="container" style="border-radius: 20px;">
      <center>
        <div class="row">
          <!-- style="background-image:'templates/cardbg.png'" -->
          <div class="col-lg-6 mb-lg-0">
            <div class="card card-signin mx-auto mb-lg-0 my-5">
              <div class="card-body">
                <br>
                <h5 class="card-title" style="width: 180px; height: 45px; text-align: center; font-size: 30px;
                color: white; padding: 2px; background-color: rgb(16, 4, 70);"><b><u>Controls</u></b></h5>
                <hr>
                <br>
                
                <form class="form-signin" method="POST" id="form1" target="_blank">
                  <h5 style="text-align: left; color: white; background-color: rgb(16, 4, 70); padding: 2px;
                  width: 275px;">Enter the IP Address: </h5>
                  <input type="text" style="width: 60px" id="ip1" name="ip1" > .
                  <input type="text" style="width: 60px" id="ip2" name="ip2" > .
                  <input type="text" style="width: 60px" id="ip3" name="ip3" > .
                  <input type="text" style="width: 60px" id="ip4" name="ip4" ><br><br>
                  <div class="form-label-group">
                    <label for="customRange3" class="form-label" style="width: 250px; padding-top: 5px; 
                    color: white; background-color: rgb(16, 4, 70);">
                      <h5>OFF / ON:
                    </label>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <!-- Rounded switch -->
                    <label class="switch">
                      <input type="checkbox" oninput="query()" id="state" name="state">
                      <span class="slider round"></span>
                    </label></h5>
                  </div>
                  <br>
                  <hr>
                  <div class="form-label-group">
                    <label for="customRange3" class="form-label" style="width: 150px; padding-top: 5px; 
                    color: white; background-color: rgb(16, 4, 70);">
                      <h5>Brightness</h5>
                    </label> <br>
                    <input type="range" name="brightness" id="brightness" oninput="query()" class="form-range" min="0"
                      max="100" step="1" id="customRange3">
                  </div>
                  <br>
                  <div class="form-label-group">
                    <label for="customRange3" class="form-label" style="width: 200px; padding-top: 5px; 
                    color: white; background-color: rgb(16, 4, 70);">
                      <h5>Colour Temperature</h5>
                    </label> <br>
                    <input type="range" name="colourtemp" id="colourtemp" oninput="query()" class="form-range" min="0"
                      max="100" step="1" id="customRange3"
                      style="background-image: linear-gradient( to right,orange,rgb(255, 255, 255),rgb(135, 223, 255)) !important; ">
                  </div>
                  <br>
                </form>

                <h4 id="message"></h4>
              </div>
            </div>
          </div>
        </div>
      </center>
    </div>
  </div>
  <div class="footer" style="background-color: rgb(179, 174, 174); padding-left: 35px; height: 50px;">
    <h6 style="text-align: left">Team: Optimal Circuits!</h6>
    <h6>Team Leader: Rushil Pathare</h6>
  </div>
  <script>
    // function query() {
    //     // 192.168.0.170/light/light4

    // }
    function query(event) {
      var ip1 = document.getElementById('ip1').value;
      var ip2 = document.getElementById('ip2').value;
      var ip3 = document.getElementById('ip3').value;
      var ip4 = document.getElementById('ip4').value;

      if ((ip1 != '') && (ip2 != '') && (ip3 != '') && (ip4 != '')) {
        var ip = ip1 + '.' + ip2 + '.' + ip3 + '.' + ip4;
        document.getElementById('message').innerHTML = "checking";

        var state = document.getElementById('state');

        if (state.checked) {
          state = "ON";
        } else {
          state = "OFF";
        }

        // const url = "https://192.168.0.170/light/light4";
        // const url = "about.html";

        var bright = document.getElementById('brightness').value

        const data = {
          // 'id' : document.getElementById('id').value,
          'id': "light-light4",
          'state': state,
          'brightness': document.getElementById('brightness').value,
          'colourtemp': document.getElementById('colourtemp').value
        };
        const other_params = {
          headers: { "content-type": "application/json; charset=UTF-8" },
          body: data,
          method: "POST",
          mode: "cors"
        };

        // var url = "https://" + ip + "/light/light4/turn_on";
        var text = "http://" + ip + "/light/light1/turn_on?id=light-light1&state=" + state + "&brightness=" + bright;
        
        // console.log(text);
        document.getElementById("form1").action = text;
        document.getElementById("form1").submit();
      }
    }
  </script>
</body>

</html>